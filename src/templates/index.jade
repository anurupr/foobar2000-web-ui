extends layout

block content
    header
        h1 Foobar2000 WebUI

    section.debug
        span status: {{playBackStatus}}
        span disconnected: {{disconnected}}
        span foobarIsClosed: {{foobarIsClosed}}

    section(class="btn-toolbar row")
        div(class="col-xs-12 col-sm-5 col-md-4 col-lg-3")
            section(class="btn-group")
                each action in playbackActions
                    button(ng-click!="sendCommand('#{action}')" class="btn btn-default btn-lg" ng-disabled="disconnected")
                        span(id="#{action}" class="glyphicon glyphicon-" + icons[action])
        div(class="col-xs-12 col-sm-5 col-md-4 col-lg-3")
            section(class="btn-group")
                each action in volumeActions
                    button(ng-click!="sendCommand('#{action}')" class="btn btn-default btn-lg" ng-disabled="disconnected")
                        span(class="glyphicon glyphicon-" + icons[action])
                button(class="btn btn-default btn-lg btn-double" disabled) {{volumeLevel}}

        div(class="col-xs-12 col-sm-2 col-md-4 col-lg-6")
            button#launchFoobar(ng-click!="sendCommand('launchFoobar')" class="btn btn-primary pull-right" ng-disabled="!foobarIsClosed")
                | Launch Foobar2000

    section(class="panel panel-default top-buffer")
        div.panel-heading
            h3.panel-title Now playing
        ul.list-group
            li.list-group-item
                span(class="glyphicon glyphicon-user")
                span.list-data {{currentTrack.artist}}
            li.list-group-item
                span(class="glyphicon glyphicon-record")
                span.list-data {{currentTrack.album}}
            li.list-group-item
                span(class="glyphicon glyphicon-music")
                span.list-data
                    span.track-number {{currentTrack.trackNumber}}&nbsp;
                    span {{currentTrack.track}}
            li.list-group-item
                span(class="glyphicon glyphicon-time")
                span {{millisecondsPlayed | parseTime}}
                span.separator /
                span {{currentTrack.trackLength | parseTime}}

    section(class="alert alert-danger" ng-show="disconnected")
        p {{foobarIsClosed ? 'Foobar2000 was closed.' : 'Disconnected from server. Attempting to reconnect.'}}

    p {{currentTrack}}
